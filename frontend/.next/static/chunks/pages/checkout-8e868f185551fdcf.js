(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[222],{3454:function(e,t,r){"use strict";var n,s;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(s=r.g.process)?void 0:s.env)?r.g.process:r(7663)},5338:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/checkout",function(){return r(4894)}])},3120:function(e,t,r){"use strict";r.d(t,{Z:function(){return Footer}});var n=r(5893);function Footer(){return(0,n.jsx)("footer",{className:"w-full bg-gray-900 text-white mt-20",children:(0,n.jsxs)("div",{className:"container mx-auto px-4 py-12",children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Leidy Cleaner"}),(0,n.jsx)("p",{className:"text-gray-400",children:"Sua solu\xe7\xe3o inteligente para limpeza profissional e confi\xe1vel."})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"font-bold mb-4",children:"Links R\xe1pidos"}),(0,n.jsxs)("ul",{className:"space-y-2 text-gray-400",children:[(0,n.jsx)("li",{children:(0,n.jsx)("a",{href:"/",className:"hover:text-white",children:"Home"})}),(0,n.jsx)("li",{children:(0,n.jsx)("a",{href:"/servicos",className:"hover:text-white",children:"Servi\xe7os"})}),(0,n.jsx)("li",{children:(0,n.jsx)("a",{href:"/agendar",className:"hover:text-white",children:"Agendar"})}),(0,n.jsx)("li",{children:(0,n.jsx)("a",{href:"/dashboard",className:"hover:text-white",children:"Dashboard"})})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"font-bold mb-4",children:"Contato"}),(0,n.jsxs)("ul",{className:"space-y-2 text-gray-400",children:[(0,n.jsx)("li",{children:"\uD83D\uDCDE +55 51 98030-3740"}),(0,n.jsx)("li",{children:"\uD83D\uDCE7 contato@leidycleaner.com"}),(0,n.jsx)("li",{children:"\uD83D\uDCCD Porto Alegre, RS"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"font-bold mb-4",children:"Pagamento"}),(0,n.jsxs)("div",{className:"space-y-2 text-gray-400",children:[(0,n.jsx)("p",{children:"\uD83D\uDCB3 PIX"}),(0,n.jsx)("p",{children:"\uD83D\uDCB3 Cart\xe3o de Cr\xe9dito"}),(0,n.jsx)("p",{children:"\uD83D\uDCB3 Mercado Pago"})]})]})]}),(0,n.jsx)("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-gray-400",children:(0,n.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," Leidy Cleaner. Todos os direitos reservados."]})})]})})}r(7294)},7185:function(e,t,r){"use strict";r.d(t,{Z:function(){return Header}});var n=r(5893),s=r(7294),a=r(1664),o=r.n(a),l=r(5816);function ThemeSwitcher(){let{theme:e,toggleTheme:t}=(0,s.useContext)(l.N);return(0,n.jsx)("button",{onClick:t,className:"px-3 py-1 rounded-md border border-gray-200 hover:bg-gray-100",children:"dark"===e?"\uD83C\uDF19 Dark":"☀️ Light"})}function Header(){let[e,t]=(0,s.useState)(!1);return(0,n.jsxs)("header",{className:"w-full sticky top-0 z-50 bg-white shadow-md",children:[(0,n.jsxs)("div",{className:"container flex items-center justify-between h-16",children:[(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)(o(),{href:"/",children:(0,n.jsx)("span",{className:"text-2xl font-bold",children:"Leidy Cleaner"})}),(0,n.jsx)("div",{className:"text-sm text-muted hidden md:block",children:"+55 51 98030-3740"})]}),(0,n.jsxs)("nav",{className:"hidden md:flex space-x-8",children:[(0,n.jsx)(o(),{href:"/",className:"hover:text-blue-600",children:"Home"}),(0,n.jsx)(o(),{href:"/servicos",className:"hover:text-blue-600",children:"Servi\xe7os"}),(0,n.jsx)(o(),{href:"/agendar",className:"hover:text-blue-600",children:"Agendar"}),(0,n.jsx)(o(),{href:"/dashboard",className:"hover:text-blue-600",children:"Minha Conta"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)(ThemeSwitcher,{}),(0,n.jsx)(o(),{href:"/agendar",className:"hidden md:block bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Agendar"}),(0,n.jsx)("button",{onClick:()=>t(!e),className:"md:hidden",children:"☰"})]})]}),e&&(0,n.jsxs)("div",{className:"md:hidden bg-gray-50 border-t",children:[(0,n.jsx)(o(),{href:"/",className:"block py-2 px-4",children:"Home"}),(0,n.jsx)(o(),{href:"/servicos",className:"block py-2 px-4",children:"Servi\xe7os"}),(0,n.jsx)(o(),{href:"/agendar",className:"block py-2 px-4",children:"Agendar"}),(0,n.jsx)(o(),{href:"/dashboard",className:"block py-2 px-4",children:"Minha Conta"})]})]})}},4894:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return CheckoutPage}});var n=r(5893),s=r(7294),a=r(7185),o=r(3120),l=r(2797),i=r(3454),Payments_CheckoutForm=function(e){let{amount:t=120}=e,[r,a]=(0,s.useState)("pix"),[o,c]=(0,s.useState)(!1),{addToast:d}=(0,l.p)(),handlePay=async()=>{c(!0);try{let e=i.env.NEXT_PUBLIC_API_URL||"http://localhost:3001",n=await fetch("".concat(e,"/api/payments/create"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token")||"")},body:JSON.stringify({amount:t,method:r}),credentials:"include"});if(!n.ok)throw Error("Erro no pagamento");let s=await n.json();d("Pagamento realizado (mock). ID: "+(s.id||"MOCK"),"success")}catch(e){d("Pagamento simulado com sucesso (fallback).","info")}finally{c(!1)}};return(0,n.jsxs)("div",{className:"p-4 bg-white rounded shadow",children:[(0,n.jsx)("h3",{className:"text-lg font-bold mb-3",children:"Pagamento"}),(0,n.jsxs)("p",{className:"mb-4",children:["Valor: ",(0,n.jsxs)("strong",{children:["R$ ",t.toFixed(2)]})]}),(0,n.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,n.jsxs)("label",{className:"block p-3 border rounded ".concat("pix"===r?"border-blue-500 bg-blue-50":""),children:[(0,n.jsx)("input",{type:"radio",name:"method",checked:"pix"===r,onChange:()=>a("pix")})," ",(0,n.jsx)("span",{className:"ml-2 font-semibold",children:"PIX (QR)"})]}),(0,n.jsxs)("label",{className:"block p-3 border rounded ".concat("card"===r?"border-blue-500 bg-blue-50":""),children:[(0,n.jsx)("input",{type:"radio",name:"method",checked:"card"===r,onChange:()=>a("card")})," ",(0,n.jsx)("span",{className:"ml-2 font-semibold",children:"Cart\xe3o de Cr\xe9dito"})]}),(0,n.jsxs)("label",{className:"block p-3 border rounded ".concat("boleto"===r?"border-blue-500 bg-blue-50":""),children:[(0,n.jsx)("input",{type:"radio",name:"method",checked:"boleto"===r,onChange:()=>a("boleto")})," ",(0,n.jsx)("span",{className:"ml-2 font-semibold",children:"Boleto"})]})]}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)("button",{onClick:handlePay,disabled:o,className:"px-4 py-2 bg-green-600 text-white rounded",children:o?"Processando...":"Pagar"}),(0,n.jsx)("button",{onClick:()=>d("Pagamento cancelado","info"),className:"px-4 py-2 bg-gray-200 rounded",children:"Cancelar"})]})]})},Loyalty_LoyaltyPanel=function(){let[e,t]=(0,s.useState)(0);(0,s.useEffect)(()=>{let e=parseInt(localStorage.getItem("loyalty_points")||"0",10);t(e)},[]);let earn=r=>{let n=e+r;localStorage.setItem("loyalty_points",n),t(n)},redeem=r=>{if(e<r)return alert("Pontos insuficientes");let n=e-r;localStorage.setItem("loyalty_points",n),t(n),alert("Cupom aplicado: R$ "+(r/10).toFixed(2))};return(0,n.jsxs)("div",{className:"p-4 bg-white rounded shadow",children:[(0,n.jsx)("h3",{className:"text-lg font-bold mb-2",children:"Programa de Fidelidade"}),(0,n.jsxs)("p",{className:"mb-2",children:["Pontos acumulados: ",(0,n.jsx)("strong",{children:e})]}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)("button",{onClick:()=>earn(10),className:"px-3 py-2 bg-blue-600 text-white rounded",children:"Ganhar 10 pts"}),(0,n.jsx)("button",{onClick:()=>redeem(50),className:"px-3 py-2 bg-green-600 text-white rounded",children:"Resgatar 50 pts"})]}),(0,n.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"1 ponto = R$0.10 (exemplo)"})]})};function CheckoutPage(){return(0,n.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,n.jsx)(a.Z,{}),(0,n.jsxs)("main",{className:"flex-grow max-w-3xl mx-auto p-6 space-y-6",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold",children:"Checkout"}),(0,n.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,n.jsx)("div",{children:(0,n.jsx)(Payments_CheckoutForm,{amount:150})}),(0,n.jsx)("div",{children:(0,n.jsx)(Loyalty_LoyaltyPanel,{})})]})]}),(0,n.jsx)(o.Z,{})]})}},7663:function(e){!function(){var t={229:function(e){var t,r,n,s=e.exports={};function defaultSetTimout(){throw Error("setTimeout has not been defined")}function defaultClearTimeout(){throw Error("clearTimeout has not been defined")}function runTimeout(e){if(t===setTimeout)return setTimeout(e,0);if((t===defaultSetTimout||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){t=defaultSetTimout}try{r="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){r=defaultClearTimeout}}();var a=[],o=!1,l=-1;function cleanUpNextTick(){o&&n&&(o=!1,n.length?a=n.concat(a):l=-1,a.length&&drainQueue())}function drainQueue(){if(!o){var e=runTimeout(cleanUpNextTick);o=!0;for(var t=a.length;t;){for(n=a,a=[];++l<t;)n&&n[l].run();l=-1,t=a.length}n=null,o=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===defaultClearTimeout||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}s.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];a.push(new Item(e,t)),1!==a.length||o||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=noop,s.addListener=noop,s.once=noop,s.off=noop,s.removeListener=noop,s.removeAllListeners=noop,s.emit=noop,s.prependListener=noop,s.prependOnceListener=noop,s.listeners=function(e){return[]},s.binding=function(e){throw Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw Error("process.chdir is not supported")},s.umask=function(){return 0}}},r={};function __nccwpck_require__(e){var n=r[e];if(void 0!==n)return n.exports;var s=r[e]={exports:{}},a=!0;try{t[e](s,s.exports,__nccwpck_require__),a=!1}finally{a&&delete r[e]}return s.exports}__nccwpck_require__.ab="//";var n=__nccwpck_require__(229);e.exports=n}()}},function(e){e.O(0,[664,774,888,179],function(){return e(e.s=5338)}),_N_E=e.O()}]);